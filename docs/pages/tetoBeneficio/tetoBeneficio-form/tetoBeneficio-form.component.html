<tce-breadcrumb [items]="[{text: 'Cadastro Teto Benefício', link: '/dashboard/tetobeneficio'}, {text: pageTitle}]">
</tce-breadcrumb>
<tce-server-error-messages [server-error-messages]="serverErrorMessages"></tce-server-error-messages>

<div class="card ">
  <div class="card-body">
    <div class="card-header">
      <strong>{{pageTitle}}</strong>
    </div>
    <div class="box section-block">
      <fieldset class="withBorder">
        <legend class="withBorder">Cadastro de Teto Benefício: </legend>
        <form [formGroup]="resourceForm" (submit)="submitForm()" class="m-l-reset">
          <div class="row">
            <div class="form-group col-md-8">
              <label for="idLegislacao">Norma</label>      
              <ng-select [items]="resLegislacoes" bindLabel="fullDescription" bindValue="idLegislacao"
                formControlName="idLegislacao" placeholder="Selecione a Legislação"
                [ngClass]="{ 'is-invalid': resourceForm.errors }"></ng-select>
              <app-form-field-error [form-control]="resourceForm.get('idLegislacao')"></app-form-field-error>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-md-4">
              <label for="dataInicioVigencia">Início da Vigência</label>
              <div [ngClass]="getClass('dataInicioVigencia') ? 'form-group has-success' : 'form-group has-danger'">
                <input type="text" class="form-control form-control-success" id="dataInicioVigencia" 
                  formControlName="dataInicioVigencia" bsDatepicker [value]="resourceForm.controls['dataInicioVigencia'].value | date:'DD/MM/YYYY'" autocomplete="off">
                <app-form-field-error [form-control]="resourceForm.get('dataInicioVigencia')"></app-form-field-error>
              </div>
            </div>
            <div class="form-group col-md-4">
              <label for="valor">Valor</label>
              <div [ngClass]="getClass('valor') ? 'form-group has-success' : 'form-group has-danger'">
                <input type="text" class="form-control" id="valor"
                  formControlName="valor" autocomplete="off" data-mask="currency" placeholder="Insira o Valor">
                <app-form-field-error [form-control]="resourceForm.get('valor')"></app-form-field-error>
              </div>
            </div>
          </div>
          <div class="form-group col-md-10">
            <div class="form-group active pl-2">
              <input class="form-check-input ng-valid ng-dirty ng-touched" id="ativo" name="ativo" type="checkbox"
               ng-reflect-name="ativo" formControlName="ativo"> <label for="ativo">Ativo</label>
            </div>
          </div>
          <tce-buttons [actions]="actions" [disabled]="resourceForm.invalid" [clear]="false"></tce-buttons>
        </form>
      </fieldset>
    </div>
  </div>
</div>